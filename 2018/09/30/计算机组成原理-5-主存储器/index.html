<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Be publicly useful and privately happy.">
    <meta name="keywords"  content="博客, 个人网站, 游戏开发，互联网, Unity3D, iOS, 蔡华, Unity, Unity3D, iOS, Lua, lua, VR, AR, vr, ar, UWA, hotfix">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>计算机组成原理：5、主存储器 - 蔡华的博客, 游戏开发，Unity3D, iOS, Lua, VR, AR</title>

    <link rel="canonical" href="https://caihua.tech/2018/09/30/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-5-%E4%B8%BB%E5%AD%98%E5%82%A8%E5%99%A8/">

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" href="/css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/hux-blog.min.css">

    <!-- Pygments Github CSS -->
    <link rel="stylesheet" href="/css/syntax.css">

    <!-- Custom Fonts -->
    <!-- <link href="http://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css"> -->
    <!-- Hux change font-awesome CDN to qiniu -->
    <link href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css">


    <!-- Hux Delete, sad but pending in China
    <link href='http://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/
    css'>
    -->


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- ga & ba script hoook -->
    <script></script>
</head>


<!-- hack iOS CSS :active style -->
<body ontouchstart="">

    <!-- Navigation -->
<nav class="navbar navbar-default navbar-custom navbar-fixed-top">
    <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header page-scroll">
            <button type="button" class="navbar-toggle">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/">蔡华的博客</a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div id="huxblog_navbar">
            <div class="navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li>
                        <a href="/">Home</a>
                    </li>
                    
                    <li>
                        <a href="/about/">About Me</a>
                    </li>
                    
                    <li>
                        <a href="/tags/">Tags</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <!-- /.navbar-collapse -->
    </div>
    <!-- /.container -->
</nav>
<script>
    // Drop Bootstarp low-performance Navbar
    // Use customize navbar with high-quality material design animation
    // in high-perf jank-free CSS3 implementation
    var $body   = document.body;
    var $toggle = document.querySelector('.navbar-toggle');
    var $navbar = document.querySelector('#huxblog_navbar');
    var $collapse = document.querySelector('.navbar-collapse');

    var __HuxNav__ = {
        close: function(){
            $navbar.className = " ";
            // wait until animation end.
            setTimeout(function(){
                // prevent frequently toggle
                if($navbar.className.indexOf('in') < 0) {
                    $collapse.style.height = "0px"
                }
            },400)
        },
        open: function(){
            $collapse.style.height = "auto"
            $navbar.className += " in";
        }
    }

    // Bind Event
    $toggle.addEventListener('click', function(e){
        if ($navbar.className.indexOf('in') > 0) {
            __HuxNav__.close()
        }else{
            __HuxNav__.open()
        }
    })

    /**
     * Since Fastclick is used to delegate 'touchstart' globally
     * to hack 300ms delay in iOS by performing a fake 'click',
     * Using 'e.stopPropagation' to stop 'touchstart' event from 
     * $toggle/$collapse will break global delegation.
     * 
     * Instead, we use a 'e.target' filter to prevent handler
     * added to document close HuxNav.  
     *
     * Also, we use 'click' instead of 'touchstart' as compromise
     */
    document.addEventListener('click', function(e){
        if(e.target == $toggle) return;
        if(e.target.className == 'icon-bar') return;
        __HuxNav__.close();
    })
</script>


    <!-- <img src="/img/home-bg-o.jpg" width="0" height="0"> -->

<!-- Post Header -->
<style type="text/css">
    header.intro-header{
        position: relative;
        background-image: url('/img/home-bg-o.jpg')
    }

    
</style>
<header class="intro-header" >
    <div class="header-mask"></div>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <div class="post-heading">
                    <div class="tags">
                        
                        <a class="tag" href="/tags/#组成原理" title="组成原理">组成原理</a>
                        
                    </div>
                    <h1>计算机组成原理：5、主存储器</h1>
                    
                    
                    <h2 class="subheading"></h2>
                    
                    <span class="meta">Posted by 蔡华的博客 on September 30, 2018</span>
                </div>
            </div>
        </div>
    </div>
</header>

<!-- Post Content -->
<article>
    <div class="container">
        <div class="row">

    <!-- Post Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                post-container">

				<h3 id="section">一、概述</h3>

<h4 id="section-1">1、基本构成</h4>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E4%B8%BB%E5%AD%98%E7%BB%93%E6%9E%84.png?raw=true" alt="主存构成" /></p>

<ul>
  <li>结合上图总结一下之前的数据读取的操作
    <ul>
      <li>CPU在第一个时钟周期时通过地址总线发出要取数据的地址，这个地址是指的存储单元的地址。</li>
      <li>MAR收到后，经过译码器得到指定的存储单元。</li>
      <li>CPU在第二个时钟周期时通过控制总线讲读指令发送到主存储器</li>
      <li>控制电路根据信令来操作读写电路</li>
      <li>将之前得到主存储器地址中的数据写入MDR</li>
      <li>通过数据总线讲MDR中的数据送入到IR或者ACC</li>
    </ul>
  </li>
</ul>

<h4 id="cpu">2、主存与CPU之间的联系</h4>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/CPU-%E4%B8%BB%E5%AD%98.png?raw=true" alt="CPU-主存" /></p>

<ul>
  <li>CPU和主存之间主要是三个总线：地址、数据、命令</li>
  <li>数据总线是双向的，而地址是单向</li>
</ul>

<h4 id="section-2">3、主存中存储单元地址的分配</h4>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E5%AD%98%E5%82%A8%E5%8D%95%E5%85%83%E5%9C%B0%E5%9D%80%E5%88%86%E9%85%8D.png?raw=true" alt="存储单元地址分配" /></p>

<ul>
  <li>数据在存储器中存储主要有两个方式，大端和小端。</li>
  <li>图中高位字节指的是0x12345678中的12，其中从左到右为从高高低</li>
  <li>但是在存储器中，地址小的为低位</li>
  <li>所以大端中就是高位的12存在了低位，小端就是低位的78存在了低位。</li>
  <li>关于按字节寻址和按字寻址详见延展阅读，</li>
</ul>

<h3 id="section-3">二、半导体存储芯片</h3>

<h4 id="section-4">1、基本结构</h4>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E5%8D%8A%E5%AF%BC%E4%BD%93%E5%AD%98%E5%82%A8%E8%8A%AF%E7%89%87%E7%BB%93%E6%9E%84.png?raw=true" alt="半导体存储芯片结构" /></p>

<ul>
  <li>芯片容量计算：2^(地址线数量) * 数据线带宽，e.g 地址线10跟，数据线 4bit，那么容量就是 2^10 * 4 = 1k * 4bit</li>
  <li>片选线：
    <ul>
      <li>片选线的作用是来标记一次数据存储过程中，数据是否存在于一个存储芯片中。</li>
      <li>两周标识方式:CS\CE，上面的线表示低电平。也就是说如果管脚是低电平就说明这次要访问的是这个芯片。</li>
      <li>比如内存条上有很多存储芯片，那么一次可能用到的数据在一个或者多个芯片上。</li>
    </ul>
  </li>
  <li>读写控制线：可以使用一根或者两个线来表示</li>
</ul>

<h4 id="section-5">2、片选线的作用</h4>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E5%8D%8A%E5%AF%BC%E4%BD%93%E5%AD%98%E5%82%A8%E8%8A%AF%E7%89%87%E7%89%87%E9%80%89%E7%BA%BF.png?raw=true" alt="半导体存储芯片片选线" /></p>

<ul>
  <li>上图展示了一个使用片选线的demo</li>
  <li>每个芯片16K x 1bit，当计算机需要64K x 8bit时需要32个芯片来实现。</li>
  <li>8个芯片串行，用之前大楼的概念来看，就是整个楼有2^16个房间，每个房间8个床位，但是注意这8个床位其实是跨房间的（或者说是跨楼的）。如果要住8个人（8bit数据），那么并不是全住在第一个房间，而是住在8个楼（一组串行芯片）的编号相同房间中编号相同的床位上（图中每个房间其实只有一个床位）。</li>
</ul>

<h4 id="section-6">3、译码驱动</h4>

<ul>
  <li>地址总线传到存储器的地址需要进行译码，然后才能得到在存储器对应的地址。</li>
</ul>

<h5 id="section-7">线选法</h5>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E7%BA%BF%E9%80%89%E6%B3%95%E8%AF%91%E7%A0%81%E9%A9%B1%E5%8A%A8.png?raw=true" alt="线选法译码驱动" /></p>

<ul>
  <li>线选法图中有4根地址线，因此存储单元有 2^4 = 16个，对应字线0-15。</li>
  <li>根据4根线上的数据得到具体的字线后，字线上的数据读写到MDR。</li>
  <li>弊端是如果想要一个1M*8大小的存储器，那么地址线需要20条，而字线需要1M条，对于芯片来说很难。</li>
</ul>

<h5 id="section-8">重合法</h5>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E9%87%8D%E5%90%88%E6%B3%95%E8%AF%91%E7%A0%81%E9%A9%B1%E5%8A%A8.png?raw=true" alt="重合法译码驱动" /></p>

<ul>
  <li>相当于笛卡尔坐标系</li>
  <li>10条地址线可以表达出 32 * 32个位置，每个位置是1bit</li>
  <li>与线选法比较，1M*8的空间 = 2^20 * 2^3 = 2^23bit , 用重合法可以做 2^12 * 2^11 这样一个矩阵，也就是 4k + 2k = 6k条字线。</li>
  <li>最初看到这里的时候有个疑惑，就是根据重合法每次只能拿到一个bit，但是看到后面的Intel 2114 RAM矩阵后就知道了如何使用重合法一次获得多个bit。</li>
</ul>

<h3 id="ram-">三、随机存取机器（RAM）→ 内存</h3>

<h4 id="ramsram">1、静态RAM(SRAM)</h4>

<h5 id="section-9">保存0和1的原理</h5>
<ul>
  <li>双稳态触发器</li>
</ul>

<h5 id="section-10">基本单元电路如何构成</h5>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E9%9D%99%E6%80%81RAM%E5%9F%BA%E6%9C%AC%E7%94%B5%E8%B7%AF.png?raw=true" alt="静态RAM基本电路" /></p>

<h5 id="ram">静态RAM芯片如何读写</h5>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E9%9D%99%E6%80%81RAM%E5%9F%BA%E6%9C%AC%E7%94%B5%E8%B7%AF%E8%AF%BB%E6%93%8D%E4%BD%9C.png?raw=true" alt="静态RAM基本电路读操作" /></p>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E9%9D%99%E6%80%81RAM%E5%9F%BA%E6%9C%AC%E7%94%B5%E8%B7%AF%E5%86%99%E6%93%8D%E4%BD%9C.png?raw=true" alt="静态RAM基本电路写操作" /></p>

<h5 id="intel-2114-ram-">Intel 2114 RAM 矩阵</h5>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/Inter2114%20%E8%AF%BB.png?raw=true" alt="Inter2114 读" /></p>

<ul>
  <li>上图很好的解释了在使用重合法时如何一次读取多个bit数据。</li>
  <li>行地址译码6位，所以范围是0-63，也就是说字线有64条。 列地址译码有4位，也就是说有16个。</li>
  <li>字长为64bit，将64分成4组，每组是16bit（对应列地址位数）。</li>
  <li>当行地址是0，列地址也是0时，其实取的是四组中第0位的数据，这样就实现了重合法一次取出多位。</li>
  <li>写操作基本相同。</li>
</ul>

<h4 id="ramdram">2、动态RAM(DRAM)</h4>

<h5 id="section-11">保存0和1的原理</h5>
<ul>
  <li>电容，充电是1，没充电是0。</li>
</ul>

<h5 id="section-12">基本单元电路如何构成</h5>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E5%8A%A8%E6%80%81RAM%E5%9F%BA%E6%9C%AC%E5%8D%95%E5%85%83%E7%94%B5%E8%B7%AF.png?raw=true" alt="动态RAM基本单元电路" /></p>
<ul>
  <li>左边3管动态RAM，右边单管。</li>
</ul>

<h5 id="ram-1">动态RAM芯片如何读写</h5>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/Inter1103%20%E8%AF%BB.png?raw=true" alt="Inter1103 读" /></p>

<ul>
  <li>行地址译码器这里参加译码的不止是地址还有读写选择线。</li>
  <li>三角形是刷新放大器。作用：电容存储电荷的原理，电容会漏掉，经过一段时间电容上信号消失。刷新放大器对电容中保持的信息进行重现。</li>
</ul>

<h5 id="ram-2">动态RAM刷新</h5>
<ul>
  <li>只和行地址有关，与列地址无关。一次刷新刷的就是一行所有的基本单元电路。</li>
</ul>

<h5 id="section-13">刷新方式</h5>

<ul>
  <li><strong>集中式</strong></li>
</ul>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E5%8A%A8%E6%80%81RAM%E9%9B%86%E4%B8%AD%E5%88%B7%E6%96%B0.png?raw=true" alt="动态RAM集中刷新" /></p>

<ul>
  <li>可以看到2毫秒按照存取周期0.5微秒分成了4000份，其中128个周期是用来刷新的。</li>
  <li>
    <p>在死区时间内CPU和IO设备如果想访问动态RAM只能等待。</p>
  </li>
  <li><strong>分散式</strong></li>
</ul>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E5%8A%A8%E6%80%81RAM%E5%88%86%E6%95%A3%E5%88%B7%E6%96%B0.png?raw=true" alt="动态RAM分散刷新" /></p>

<ul>
  <li>本来每个存取周期是0.5微秒，但是为了刷新又加了0.5，导致一个存取周期变为了1微秒。</li>
  <li>没有了死区</li>
  <li>
    <p>和集中式比较，2毫秒内每行要刷新15.6次，存在过度刷新的问题。</p>
  </li>
  <li><strong>异步式</strong></li>
</ul>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E5%8A%A8%E6%80%81RAM%E5%BC%82%E6%AD%A5%E5%88%B7%E6%96%B0.png?raw=true" alt="动态RAM异步刷新" /></p>

<ul>
  <li>在15.6微秒中可以认为是集中式，在2毫秒的周期内看是分散式的。</li>
  <li>确实在安排好的情况下不会出现死区。</li>
</ul>

<h4 id="sramdram">3、SRAM和DRAM的比较</h4>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/SRAM%E5%92%8CDRAM%E7%9A%84%E6%AF%94%E8%BE%83.png?raw=true" alt="SRAM和DRAM的比较" /></p>

<ul>
  <li>注意引脚数，DRAM行地址和列地址可以分开传输，所以少。但是这样在速度上慢。</li>
  <li>而且DRAM电容充放电比较慢，所以读取速度慢。</li>
</ul>

<h3 id="rom">四、只读存储器 ROM</h3>
<ul>
  <li>基本都是电子元器件的内容</li>
</ul>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/PROM.png?raw=true" alt="PROM" /></p>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/EPROM.png?raw=true" alt="EPROM" /></p>

<h3 id="cpu-1">五、存储器与CPU的连接</h3>

<h4 id="section-14">存储器扩展</h4>

<ul>
  <li>位扩展</li>
</ul>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E5%AD%98%E5%82%A8%E5%99%A8%E4%BD%8D%E6%89%A9%E5%B1%95.png?raw=true" alt="存储器位扩展" /></p>

<ul>
  <li>
    <p>位扩展利用两个芯片的数据线放到数据总线上不同的线上</p>
  </li>
  <li>
    <p>字扩展</p>
  </li>
</ul>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E5%AD%98%E5%82%A8%E5%99%A8%E5%AD%97%E6%89%A9%E5%B1%95.png?raw=true" alt="存储器位扩展" /></p>

<ul>
  <li>
    <p>利用多出来的一条地址线作为片选线，从而实现两个芯片逻辑上的串联。扩展地址线长度。</p>
  </li>
  <li>
    <p>位和字扩展</p>
  </li>
</ul>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E5%AD%98%E5%82%A8%E5%99%A8%E5%AD%97%E5%92%8C%E4%BD%8D%E6%89%A9%E5%B1%95.png?raw=true" alt="存储器字和位扩展" /></p>

<ul>
  <li>多出两根地址线，形成一个范围从0-3的可变数字。</li>
  <li>将8个芯片分成4组，刚好对应上面的数字。通过地址线A11 A10加不同的电来实现片选译码。</li>
  <li>对于每组2个芯片正常的位扩展。</li>
</ul>

<h5 id="section-15">一个连接的练习</h5>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/CPU%E4%B8%8E%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E8%BF%9E%E6%8E%A5.png?raw=true" alt="CPU与存储器的连接" /></p>

<ul>
  <li>开始学位和字的扩展时觉得很奇怪，但是当会后讲到一个如何设计CPU与存储芯片连接的题时就明白了一个核心：因为CPU的地址线和数据线数量与芯片的不同，因此需要进行位的扩展来适应CPU的数据线，需要合理的设计地址线来做片选译码和地址译码。</li>
  <li>通常地址线的高位做片选译码，低位做地址译码。</li>
</ul>

<h3 id="section-16">六、提高访存速度的措施</h3>

<ul>
  <li>高位交叉，高位交叉中很大概率是M0被频繁访问，而后面的不会。因为数据或者指令总是按照内存地址的顺序被使用。</li>
</ul>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E9%AB%98%E4%BD%8D%E4%BA%A4%E5%8F%89.png?raw=true" alt="高位交叉" /></p>

<ul>
  <li>低位交叉</li>
</ul>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E4%BD%8E%E4%BD%8D%E4%BA%A4%E5%8F%89.png?raw=true" alt="低位交叉" /></p>

<ul>
  <li>这样的地址布局可以使得M0-3这四个存储体可以依次的被CPU使用。如果报错的是代码指令，就是先调用M0的0000位置，然后是M1的0000位置，依次使用。</li>
</ul>

<p><img src="https://github.com/klkucan/ImgLib/blob/master/%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%AD%98%E5%82%A8%E5%99%A8/%E4%BD%8E%E4%BD%8D%E4%BA%A4%E5%8F%89%E4%BD%BF%E7%94%A8%E7%9A%84%E6%97%B6%E9%97%B4.png?raw=true" alt="低位交叉使用的时间" /></p>

<ul>
  <li>低位交叉被并发的访问，将一个存储周期分成4份。</li>
</ul>

<h3 id="section-17">延展阅读</h3>

<h4 id="section-18">1、关于按字寻址和按字节寻址的理解</h4>

<blockquote>
  <p>设有一个1MB容量的存储器，字长32位，问：按字节编址，字编址的寻址范围以及各自的寻址范围大小?</p>

  <p>如果按字节编址，则</p>
</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>1MB = 2^20B 

1字节=1B=8bit 

2^20B/1B = 2^20 
</code></pre>
</div>

<blockquote>
  <p>地址范围为0~(2^20)-1,也就是说需要二十根地址线才能完成对1MB空间的编码，所以地址寄存器为20位,寻址范围大小为 2^20 = 1M</p>

  <p>如果按字编址，则</p>
</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>1MB=2^20B

1字=32bit=4B

2^20B/4B = 2^18   
</code></pre>
</div>

<blockquote>
  <p>地址范围为0~2^18-1，也就是说我们至少要用18根地址线才能完成对1MB空间的编码。因此按字编址的寻址范围是 2^18</p>

  <p>以上题目注意几点：</p>

  <p>1.区分寻址空间与寻址范围两个不同的概念，寻址范围仅仅是一个数字范围，不带有单位。而寻址范围的大小很明显是一个数，指寻址区间的大小。而寻址空间指能够寻址最大容量，单位一般用MB、B来表示；本题中寻址范围为0~(2^20)-1,寻址空间为1MB。</p>

  <p>2.按字节寻址，指的是存储空间的最小编址单位是字节，按字编址，是指存储空间的最小编址单位是字，以上题为例，总的存储器容量是一定的，按字编址和按字节编址所需要的编码数量是不同的，按字编址由于编址单位比较大（1字=32bit=4B），从而编码较少，而按字节编址由于编码单位较小（1字节=1B=8bit），从而编码较多。</p>

  <p>3.区别M和MB。</p>
</blockquote>

<div class="highlighter-rouge"><pre class="highlight"><code>M为数量单位。1024=1K，1024K=1M

MB指容量大小。1024B=1KB，1024KB=1MB.
</code></pre>
</div>

<h3 id="section-19">参考</h3>

<ul>
  <li>https://blog.csdn.net/lishuhuakai/article/details/8934540</li>
</ul>


                <hr>

                


                <ul class="pager">
                    
                    <li class="previous">
                        <a href="/2018/09/26/Unity-ECS-C-Job-System%E6%96%87%E6%A1%A3%E6%80%BB%E7%BB%93/" data-toggle="tooltip" data-placement="top" title="Unity ECS：C# Job System文档总结">
                        Previous<br>
                        <span>Unity ECS：C# Job System文档总结</span>
                        </a>
                    </li>
                    
                    
                    <li class="next">
                        <a href="/2018/10/03/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86-6-%E9%AB%98%E9%80%9F%E7%BC%93%E5%86%B2%E5%AD%98%E5%82%A8%E5%99%A8/" data-toggle="tooltip" data-placement="top" title="计算机组成原理：6、高速缓冲存储器">
                        Next<br>
                        <span>计算机组成原理：6、高速缓冲存储器</span>
                        </a>
                    </li>
                    
                </ul>


                

                

            </div>  

    <!-- Side Catalog Container -->
        

    <!-- Sidebar Container -->
            <div class="
                col-lg-8 col-lg-offset-2
                col-md-10 col-md-offset-1
                sidebar-container">

                <!-- Featured Tags -->
                
                <section>
                    <hr class="hidden-sm hidden-xs">
                    <h5><a href="/tags/">FEATURED TAGS</a></h5>
                    <div class="tags">
        				
                            
                				<a href="/tags/#iOS学习笔记" title="iOS学习笔记" rel="8">
                                    iOS学习笔记
                                </a>
                            
        				
                            
                				<a href="/tags/#iOS" title="iOS" rel="1">
                                    iOS
                                </a>
                            
        				
                            
                				<a href="/tags/#杂记" title="杂记" rel="4">
                                    杂记
                                </a>
                            
        				
                            
                				<a href="/tags/#VR/AR" title="VR/AR" rel="3">
                                    VR/AR
                                </a>
                            
        				
                            
                				<a href="/tags/#Unity3D" title="Unity3D" rel="20">
                                    Unity3D
                                </a>
                            
        				
                            
                				<a href="/tags/#3D数学" title="3D数学" rel="1">
                                    3D数学
                                </a>
                            
        				
                            
                				<a href="/tags/#游戏设计模式读书笔记" title="游戏设计模式读书笔记" rel="8">
                                    游戏设计模式读书笔记
                                </a>
                            
        				
                            
                				<a href="/tags/#Unity預計算即時GI笔记" title="Unity預計算即時GI笔记" rel="3">
                                    Unity預計算即時GI笔记
                                </a>
                            
        				
                            
                				<a href="/tags/#AssetBundle学习笔记" title="AssetBundle学习笔记" rel="6">
                                    AssetBundle学习笔记
                                </a>
                            
        				
                            
                				<a href="/tags/#Lua" title="Lua" rel="6">
                                    Lua
                                </a>
                            
        				
                            
                				<a href="/tags/#UWA" title="UWA" rel="25">
                                    UWA
                                </a>
                            
        				
                            
                				<a href="/tags/#PHP" title="PHP" rel="1">
                                    PHP
                                </a>
                            
        				
                            
                				<a href="/tags/#CPP" title="CPP" rel="7">
                                    CPP
                                </a>
                            
        				
                            
                				<a href="/tags/#并发模型" title="并发模型" rel="5">
                                    并发模型
                                </a>
                            
        				
                            
                				<a href="/tags/#ECS" title="ECS" rel="1">
                                    ECS
                                </a>
                            
        				
                            
                				<a href="/tags/#组成原理" title="组成原理" rel="6">
                                    组成原理
                                </a>
                            
        				
        			</div>
                </section>
                

                <!-- Friends Blog -->
                
            </div>
        </div>
    </div>
</article>









<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>
<!-- anchor-js, Doc:http://bryanbraun.github.io/anchorjs/ -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/anchor-js/1.1.1/anchor.min.js",function(){
        anchors.options = {
          visible: 'always',
          placement: 'right',
          icon: ''
        };
        anchors.add().remove('.intro-header h1').remove('.subheading').remove('.sidebar-container h5');
    })
</script>
<style>
    /* place left on bigger screen */
    @media all and (min-width: 800px) {
        .anchorjs-link{
            position: absolute;
            left: -0.75em;
            font-size: 1.1em;
            margin-top : -0.1em;
        }
    }
</style>


    <!-- Footer -->
<footer>
    <div class="container">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center">
                    
                    

                    <!-- add Weibo, Zhihu by Hux, add target = "_blank" to <a> by Hux -->
                    
                    


                    
                    
                    <li>
                        <a target="_blank" href="https://github.com/klkucan">
                            <span class="fa-stack fa-lg">
                                <i class="fa fa-circle fa-stack-2x"></i>
                                <i class="fa fa-github fa-stack-1x fa-inverse"></i>
                            </span>
                        </a>
                    </li>
                    
                    
                </ul>
                <p class="copyright text-muted">
                    Copyright &copy; 蔡华的博客 2018
                    <!-- <br>
                    Theme by <a href="http://huangxuan.me">Hux</a> |
                    <iframe
                        style="margin-left: 2px; margin-bottom:-5px;"
                        frameborder="0" scrolling="0" width="91px" height="20px"
                        src="https://ghbtns.com/github-btn.html?user=huxpro&repo=huxpro.github.io&type=star&count=true" >
                    </iframe> -->
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/js/jquery.min.js "></script>

<!-- Bootstrap Core JavaScript -->
<script src="/js/bootstrap.min.js "></script>

<!-- Custom Theme JavaScript -->
<script src="/js/hux-blog.min.js "></script>


<!-- async load function -->
<script>
    function async(u, c) {
      var d = document, t = 'script',
          o = d.createElement(t),
          s = d.getElementsByTagName(t)[0];
      o.src = u;
      if (c) { o.addEventListener('load', function (e) { c(null, e); }, false); }
      s.parentNode.insertBefore(o, s);
    }
</script>

<!-- 
     Because of the native support for backtick-style fenced code blocks 
     right within the Markdown is landed in Github Pages, 
     From V1.6, There is no need for Highlight.js, 
     so Huxblog drops it officially.

     - https://github.com/blog/2100-github-pages-now-faster-and-simpler-with-jekyll-3-0  
     - https://help.github.com/articles/creating-and-highlighting-code-blocks/ 
     - https://github.com/jneen/rouge/wiki/list-of-supported-languages-and-lexers   
-->
<!--
    <script>
        async("http://cdn.bootcss.com/highlight.js/8.6/highlight.min.js", function(){
            hljs.initHighlightingOnLoad();
        })
    </script>
    <link href="http://cdn.bootcss.com/highlight.js/8.6/styles/github.min.css" rel="stylesheet">
-->


<!-- jquery.tagcloud.js -->
<script>
    // only load tagcloud.js in tag.html
    if($('#tag_cloud').length !== 0){
        async('/js/jquery.tagcloud.js',function(){
            $.fn.tagcloud.defaults = {
                //size: {start: 1, end: 1, unit: 'em'},
                color: {start: '#bbbbee', end: '#0085a1'},
            };
            $('#tag_cloud a').tagcloud();
        })
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdnjs.cloudflare.com/ajax/libs/fastclick/1.0.6/fastclick.min.js", function(){
        var $nav = document.querySelector("nav");
        if($nav) FastClick.attach($nav);
    })
</script>


<!-- Google Analytics -->

<script>
    // dynamic User by Hux
    var _gaId = 'UA-86194707-1';
    var _gaDomain = 'caihua.tech';

    // Originial
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', _gaId, _gaDomain);
    ga('send', 'pageview');
</script>



<!-- Baidu Tongji -->




<!-- Side Catalog -->




</body>

</html>
